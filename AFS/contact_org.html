<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>AFS</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">
    <%@page language="java" contentType="text/html; charset=utf-8" pageEncoding="utf-8"%>

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

    <!--파비콘-->
    <link rel="icon" href="./favicon.ico" type="image/x-icon">

    
	
    <!--include 코드-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(function() {
            $("#navInclude").load("navbar.html");
            $("#footerInclude").load("footer.html");
        });
    </script>

    <style>
        .control-group {
            position: relative;
        }

        .control-group input,
        .control-group textarea {
            width: 100%;
            box-sizing: border-box;
        }
    </style>
     <script>
        $(function() {
            $("#navInclude").load("navbar.jsp");
            $("#footerInclude").load("footer.jsp");
        });
        
        // Function to send the email using SendGrid
        function sendEmail() {
            // Get the form values
            var name = $("#name").val();
            var email = $("#email").val();
            var subject = $("#subject").val();
            var message = $("#message").val();

            // Send the email using SendGrid API
            var emailData = {
                to: "dnehd5872@naver.com",
                from: email,
                subject: subject,
                text: "Name: " + name + "\nEmail: " + email + "\n\n" + message,
            };

            // Set your SendGrid API key here
            var SENDGRID_API_KEY = "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";

            // Initialize SendGrid with your API key
            require("@sendgrid/mail").setApiKey(SENDGRID_API_KEY);

            // Send the email
            require("@sendgrid/mail").send(emailData)
                .then(function() {
                    // Email sent successfully
                    alert("Email sent successfully!");
                    $("#name").val("");
                    $("#email").val("");
                    $("#subject").val("");
                    $("#message").val("");
                })
                .catch(function(error) {
                    // Error occurred while sending email
                    console.error("Error sending email:", error);
                    alert("Error sending email. Please try again later.");
                });
        }

        // Handle form submission
        $("#sendMessageButton").click(function(event) {
            alert("메일을 전송했습니다.");
            location.href("http://118.67.131.9:8080/AFS");
            //event.preventDefault(); // Prevent form submission

            // Validate the form
            //if ($("#contactForm")[0].checkValidity()) {
                //sendEmail(); // Send the email if the form is valid
            //} else {
                // Display validation error messages
                //$("#contactForm")[0].reportValidity();
            }
        });
    </script>
</head>


<body>
	 <%!
    // SendGrid API 키 설정
    private static final String SENDGRID_API_KEY = "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";
    %>
	
	
	<div id="navInclude"></div>
	<!--navbar include-->



	<!-- Header Start -->
	<div class="jumbotron jumbotron-fluid mb-5">
		<div class="container text-center">
			<h1 class="display-3">Contact</h1>
		</div>
		<!-- Contact Start -->
		<div class="container-fluid py-5">
			<div class="container">
				<div class="row" style="margin-top: 30px;">
					<div class="col-lg-5 pb-4 pb-lg-0">
						<div class="bg-primary text-dark text-center p-4">
							<h4 class="m-0" style="color: white;">
								<i class="fa fa-map-marker-alt text-white mr-2"
									style="color: white; font-size: large;"> 서울특별시 서대문구 가좌로 134</i>
							</h4>
						</div>
						<iframe
							src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3162.6930135990087!2d126.9251874!3d37.5846465!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x357c985b19c71155%3A0x94b833a089e6accb!2sMyeongji%20University!5e0!3m2!1sen!2s!4v1623736869487!5m2!1sen!2s"
							width="100%" height="470" style="border: 0;" allowfullscreen=""
							loading="lazy"></iframe>

					</div>
					<div class="col-lg-7">
						<!-- <h6 class="text-primary font-weight-bold">Contact Us</h6> -->
						<div class="bg-primary text-dark text-center p-4">
							<h4 class="m-0" style="color: white;">
								<i class="fa text-white mr-2"
									style="color: white; font-size: large;"> 문의 사항</i>
							</h4>
						</div>
						<div class="contact-form bg-secondary" style="padding: 30px;">
							<div id="success"></div>
							<form name="sentMessage" id="contactForm" novalidate="novalidate">
								<!-- 이름 -->
								<div class="control-group">
									<input type="text" class="form-control border-0 p-4" id="name"
										placeholder="이름" required="required"
										data-validation-required-message="이름을 입력해 주세요">
									<p class="help-block text-danger"></p>
								</div>
								<!-- 이메일 -->
								<div class="control-group">
									<input type="email" class="form-control border-0 p-4"
										id="email" placeholder="이메일" required="required"
										data-validation-required-message="이메일을 입력해 주세요">
									<p class="help-block text-danger"></p>
								</div>
								<!-- 제목 -->
								<div class="control-group">
									<input type="text" class="form-control border-0 p-4"
										id="subject" placeholder="제목" required="required"
										data-validation-required-message="제목을 입력해주세요">
									<p class="help-block text-danger"></p>
								</div>
								<!-- 내용 -->
								<div class="control-group">
									<textarea class="form-control border-0 py-3 px-4" rows="3"
										id="message" placeholder="내용" required="required"
										data-validation-required-message="내용을 입력해 주세요"></textarea>
									<p class="help-block text-danger"></p>
								</div>
								<!-- 버튼 -->
								<div>
									<button class="btn btn-primary py-3 px-4" type="submit" id="sendMessageButton">Send Message</button>
								</div>
							</form>
						</div>

					</div>
				</div>
			</div>
		</div>
		<!-- Contact End -->
	</div>
	<!-- Header End -->
	
	
	





	<div id="footerInclude"></div>
	<!--footer include-->

	<!-- Back to Top -->
	<a href="#" class="btn btn-lg btn-primary back-to-top"><i
		class="fa fa-angle-double-up"></i></a>


	<!-- JavaScript Libraries -->
	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
	<script src="lib/easing/easing.min.js"></script>
	<script src="lib/waypoints/waypoints.min.js"></script>
	<script src="lib/counterup/counterup.min.js"></script>
	<script src="lib/owlcarousel/owl.carousel.min.js"></script>

	<!-- Contact Javascript File -->
	<script src="mail/jqBootstrapValidation.min.js"></script>
	<script src="mail/contact.js"></script>

	<!-- Template Javascript -->
	<script src="js/main.js"></script>
</body>

</html>
